
<html>
<head>
  <link href="css/matrix.css" rel="stylesheet">

</head>
<canvas id="c"></canvas>
<script type="text/javascript">

var c = document.getElementById("c");
var ctx = c.getContext("2d");

//making the canvas full screen
c.height = window.innerHeight;
c.width = window.innerWidth;
var font_size = 15;
var columns = Math.round(c.width/font_size); //number of columns for the rain
var ligns = Math.round(c.height/font_size);


//chinese characters - taken from the unicode charset
//var chinese = "田由甲申甴电甶男甸甹町画甼甽甾甿畀畁畂畃畄畅畆畇畈畉畊畋界畍畎畏畐畑";
var t1 = "@HRC_MotoGP All New Honda Civic Hatchback Prototype Tampil di Geneva Motor Show 2016 https://t.co/28fyiBLPgm https://t.co/6FCPyfJsi3 Kia Niro arrives in Geneva @kia #GIMS https://t.co/WTcuogyQaA Le salon de Genève 2016 est lancé: nouveautés en photos nhttps://t.co/URqmFqHqJz Here we are!!!!!!  n#geneva2016 #genevamotorshow #geneva #ginevra #motorshow #car #cars #carporn… https://t.co/W7Daf0rw7j Peugeot 2008 gets a new face for Geneva https://t.co/DITZinas3L #Peugeot #News Salão de Genebra: Lamborghini Centenário - Notícia https://t.co/VcwMSN71jQ Geneva video analysis - hottest cars of the 2016 show #Cars https://t.co/iqrdw0wbyG DS E-TENSE ozdobą wystawy Geneva Motor Show 2016: Zaprezentowany na wystawie w Genewie E-TENSE to nieco bardzi... https://t.co/sEoHJZ77M0Renault brings sporty Megane wagon and opulent Zoe to Geneva https://t.co/8Q70X44Xi7 SALÃO DE GENEBRA 2016 €2.400.000 Bugatti Chiron 2017 4WD 8.0 W16 1.521 cv 163\,2 mkgf";
var t2 = "                        ";






var totalChar = columns*ligns;

var textRef1 = t1;
var textRef2 = t2;

while (textRef1.length < totalChar) {
  textRef1 = textRef1+' '+t1;
}
while (textRef2.length < totalChar) {
  textRef2 = textRef2+' '+t2;
}


//converting the string into an array of single characters
textRef1 = textRef1.split("");
textRef2 = textRef2.split("");

//an array of drops - one per column
var drops = [];
var dText = [];
//x below is the x coordinate
//1 = y co-ordinate of the drop(same for every drop initially)
for(var x = 0; x < columns; x++)
	drops[x] = 1;
  dText[x] = 0;

//drawing the characters
function draw()
{
	//Black BG for the canvas
	//translucent BG to show trail
	//ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
  ctx.fillStyle = "rgba(0, 0, 0, 0.02)";
	ctx.fillRect(0, 0, c.width, c.height);

	ctx.fillStyle = "#0F0"; //green text
	ctx.font = font_size + "px arial";
  ctx.textAlign="center"
	//looping over drops
	for(var i = 0; i < drops.length; i++)
	{
		//a random chinese character to print
		//var text = chinese[Math.floor(Math.random()*chinese.length)];
    var j = i*ligns+drops[i];
    //console.log('i '+i);
    //console.log('l '+ligns);
    //console.log('d '+drops[i]);
    //console.log('j '+j);
    var text;
    if (dText[i]==0) {
      text = textRef1[j]
    }
    else {
      text = textRef2[j]
    }

		//x = i*font_size, y = value of drops[i]*font_size
		ctx.fillText(text, i*font_size, drops[i]*font_size);

		//sending the drop back to the top randomly after it has crossed the screen
		//adding a randomness to the reset to make the drops scattered on the Y axis
		if(drops[i]*font_size > c.height && Math.random() > 0.975) {
			drops[i] = 0;
      // change text ref
      if (dText[i]==0) {
        dText[i]=1;
      }
      else {
        dText[i]=0;
      }
    }
		//incrementing Y coordinate
		drops[i]++;
	}
}

//draw();
setInterval(draw, 50);



</script>
</html>
